!function(a,b,c,d){"use strict";function e(a,b){this.$container=a,this.extend(this,g,b),this.props={activeBlock:0,navs:c(),blocks:c()},this.init()}var f="ParallaxSlideshow",g={name:"parallax-slideshow",rateo:.5,parallaxOptions:{clipRelativeInput:!0,scalarX:3,scalarY:3}};e.prototype.generateLayer=function(a){var b=c("<li/>",{"class":this.name+"__layer layer","data-depth":a.depth});if(a.url){var d=c("<img/>",{"class":this.name+"__img",src:a.url});b.append(d)}else a.element&&a.element.length&&b.append(a.element.clone());return b},e.prototype.generateBlock=function(a,b){var d=this,e=c("<div/>",{"class":this.name+"__block","data-id":b});a.forEach(function(a){d.generateLayer(a).appendTo(e)}),e.appendTo(this.$container)},e.prototype.generateNav=function(){var a=this;if(!(this.blocks.length<2)){var b=c("<ul/>",{"class":this.name+"__nav"});this.blocks.forEach(function(d,e){var f=c("<li/>",{"class":a.name+"__nav-link","data-to":e});f.on("click",function(){a.activateBlock(e)}),f.appendTo(b)}),b.appendTo(this.$container),this.props.navs=b.find("li")}},e.prototype.activateBlock=function(a){var b=this.props.blocks.filter('[data-id="'+a+'"]');this.props.navs.removeClass(this.name+"__nav-link--active"),this.props.navs.filter('[data-to="'+a+'"]').addClass(this.name+"__nav-link--active"),this.props.blocks.removeClass(this.name+"__block--active"),this.props.blocks.off("mousemove"),b.addClass(this.name+"__block--active"),this.parallax(b)},e.prototype.parallax=function(a){this.props.parallax&&this.props.parallax.disable(),this.props.parallax=new d(a[0],this.parallaxOptions)},e.prototype.updateHeight=function(){this.props.width=this.$container.width(),this.props.height=this.props.width*this.rateo,this.$container.css("height",this.props.height),this.$container.css("font-size",this.props.height/20+"px")},e.prototype.init=function(){this.$container.addClass(this.name),this.updateHeightBound=this.updateHeight.bind(this),c(a).on("resize",this.updateHeightBound).trigger("resize"),this.blocks.forEach(this.generateBlock.bind(this)),this.props.blocks=this.$container.find("."+this.name+"__block"),this.generateNav(),this.activateBlock(this.props.activeBlock)},e.prototype.destroy=function(){c(a).off("resize",this.updateHeightBound),this.$container.empty()},e.prototype.extend=function(){if(arguments.length>1)for(var a=arguments[0],b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)a[e]=d[e]}},a[f]=e}(window,document,$,Parallax);
//# sourceMappingURL=parallax-slideshow.min.js.map
